<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTINELA V12 - INTELLIGENCE EDITION</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Playfair+Display:wght@700&family=Courier+Prime&display=swap" rel="stylesheet">
    <style>
        :root { --cyber-blue: #00a3ff; --israel-blue: #0038b8; }
        body { background: #02040a; color: #e6edf3; font-family: 'Inter', sans-serif; }
        .glass-panel { background: rgba(13, 17, 23, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(48, 54, 61, 1); }
        
        /* DIFERENCIA√á√ÉO DE IMPRESS√ÉO */
        @media print {
            .no-print { display: none !important; }
            #print-area { display: block !important; background: white !important; color: black !important; }
            
            /* Ajuste para T√©rmica */
            .print-thermal { width: 80mm; padding: 5mm; font-family: 'Courier Prime', monospace; }
            /* Ajuste para A4 Professional */
            .print-a4 { width: 210mm; padding: 20mm; font-family: 'serif'; }
        }

        .input-v12 { background: rgba(0,0,0,0.4); border: 1px solid #30363d; padding: 12px; border-radius: 8px; width: 100%; outline: none; transition: 0.3s; }
        .input-v12:focus { border-color: var(--cyber-blue); box-shadow: 0 0 10px rgba(0,163,255,0.3); }
        .stamp-authority { border: 3px solid var(--israel-blue); color: var(--israel-blue); padding: 5px 10px; font-weight: 900; transform: rotate(-15deg); display: inline-block; opacity: 0.8; }
    </style>
</head>
<body class="p-4">

    <div class="no-print max-w-6xl mx-auto space-y-6">
        <header class="flex flex-col md:flex-row justify-between items-center glass-panel p-8 rounded-3xl border-b-4 border-blue-600">
            <div class="flex items-center gap-6">
                <div class="relative">
                    <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center overflow-hidden border-4 border-blue-600 shadow-2xl">
                         <span class="text-blue-900 font-black text-2xl italic">S12</span>
                    </div>
                    <div class="absolute -bottom-2 -right-2 bg-blue-600 text-[8px] font-bold px-2 py-1 rounded"></div>
                </div>
                <div>
                    <h1 class="text-3xl font-black tracking-tighter uppercase italic">Sentinela <span class="text-blue-500">V12</span></h1>
                    <p class="text-[10px] tracking-[0.4em] text-slate-500 uppercase font-bold">Advanced Fiscal Intelligence</p>
                </div>
            </div>
            <div class="flex gap-4 mt-6 md:mt-0">
                <div class="text-right">
                    <p class="text-[10px] font-black text-emerald-500">CONEX√ÉO: SEFAZ G2G üü¢</p>
                    <p class="text-[10px] font-black text-blue-400">ASAAS: READY üîµ</p>
                </div>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2 glass-panel p-8 rounded-3xl space-y-4">
                <h2 class="text-blue-500 font-black uppercase text-xs tracking-widest mb-4 italic">Cadastro de Autoridade (CPF/CNPJ)</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" id="v_nome" placeholder="NOME OU RAZ√ÉO SOCIAL" class="input-v12 col-span-2">
                    <input type="text" id="v_doc" placeholder="CPF / CNPJ" class="input-v12">
                    <input type="text" id="v_email" placeholder="E-MAIL" class="input-v12">
                    <input type="text" id="v_whats" placeholder="WHATSAPP (55...)" class="input-v12">
                    <input type="text" id="v_endereco" placeholder="ENDERE√áO COMPLETO" class="input-v12">
                </div>
                
                <h2 class="text-blue-500 font-black uppercase text-xs tracking-widest mt-6 mb-4 italic">Descri√ß√£o do Ativo / Servi√ßo</h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <input type="text" id="v_prod" placeholder="DESCRI√á√ÉO DETALHADA" class="input-v12 col-span-3">
                    <input type="number" id="v_valor" placeholder="VALOR R$" class="input-v12">
                </div>
            </div>

            <div class="glass-panel p-8 rounded-3xl space-y-4">
                <h2 class="text-white font-black uppercase text-xs tracking-widest mb-6 text-center">Tipo de Documento</h2>
                
                <button onclick="gerarSaida('A4')" class="w-full bg-white text-black py-4 rounded-xl font-black uppercase hover:bg-blue-500 hover:text-white transition-all shadow-lg">
                    üìÑ Nota Fiscal SEFAZ (A4)
                </button>
                <button onclick="gerarSaida('TERMICA')" class="w-full border-2 border-blue-600 text-blue-500 py-4 rounded-xl font-black uppercase hover:bg-blue-600 hover:text-white transition-all">
                    üßæ Cupom T√©rmico (180mm)
                </button>
                
                <div class="pt-6">
                    <button onclick="enviarWhats()" class="w-full bg-emerald-600 py-4 rounded-xl font-black uppercase flex items-center justify-center gap-3">
                        <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" class="w-5 h-5 invert"> Enviar p/ WhatsApp
                    </button>
                </div>
            </div>
        </main>
    </div>

    <div id="print-area" class="hidden">
        <div id="container-documento"></div>
    </div>

    <script>
        function gerarSaida(formato) {
            const dados = {
                nome: document.getElementById('v_nome').value,
                doc: document.getElementById('v_doc').value,
                email: document.getElementById('v_email').value,
                endereco: document.getElementById('v_endereco').value,
                prod: document.getElementById('v_prod').value,
                valor: document.getElementById('v_valor').value,
                nfe: Math.floor(Math.random() * 999999),
                chave: Array.from({length: 11}, () => Math.floor(Math.random()*8999)+1000).join(' ')
            };

            let html = "";

            if(formato === 'A4') {
                // DESIGN NOTA FISCAL PROFISSIONAL A4
                html = `
                    <div class="print-a4" style="color:black; background:white;">
                        <div style="display:flex; justify-content:space-between; border:2px solid black; padding:15px;">
                            <div style="width:60%">
                                <h1 style="margin:0; font-size:22px;">SENTINELA INTELLIGENCE V12</h1>
                                <p style="font-size:10px;">CRISTIAN SYSTEMS & DATA PROTECTION<br>Setor de Opera√ß√µes Fiscais Avan√ßadas</p>
                                <p style="font-size:12px; margin-top:10px;"><b>ENDERE√áO:</b> UNIDADE CENTRAL DE INTELIG√äNCIA</p>
                            </div>
                            <div style="width:35%; border-left:2px solid black; padding-left:15px; text-align:center;">
                                <h2 style="margin:0;">DANFE</h2>
                                <p style="font-size:10px;">Documento Auxiliar da Nota Fiscal Eletr√¥nica</p>
                                <p style="font-size:14px; font-weight:bold;">N¬∫ ${dados.nfe}</p>
                            </div>
                        </div>

                        <div style="border:1px solid black; margin-top:10px; padding:10px; font-size:12px;">
                            <p><b>DESTINAT√ÅRIO / COMPRADOR:</b> ${dados.nome}</p>
                            <p><b>CPF / CNPJ:</b> ${dados.doc}</p>
                            <p><b>ENDERE√áO:</b> ${dados.endereco}</p>
                            <p><b>E-MAIL:</b> ${dados.email}</p>
                        </div>

                        <table style="width:100%; border-collapse:collapse; margin-top:20px; font-size:12px;">
                            <thead>
                                <tr style="background:#eee; border:1px solid black;">
                                    <th style="padding:10px; border:1px solid black;">C√ìDIGO</th>
                                    <th style="padding:10px; border:1px solid black;">DESCRI√á√ÉO DOS PRODUTOS / SERVI√áOS</th>
                                    <th style="padding:10px; border:1px solid black;">VALOR TOTAL</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border:1px solid black;">
                                    <td style="padding:10px; text-align:center;">V12-001</td>
                                    <td style="padding:10px;">${dados.prod}</td>
                                    <td style="padding:10px; text-align:right;">R$ ${dados.valor}</td>
                                </tr>
                            </tbody>
                        </table>

                        <div style="margin-top:20px; text-align:right; font-size:18px; font-weight:bold;">
                            TOTAL DA NOTA: R$ ${dados.valor}
                        </div>

                        <div style="margin-top:50px; display:flex; justify-content:space-between;">
                            <div style="width:45%; border-top:1px solid black; text-align:center; padding-top:5px;">
                                <p style="font-size:10px;">ASSINATURA DO EMISSOR (SENTINELA)</p>
                            </div>
                            <div style="width:45%; border-top:1px solid black; text-align:center; padding-top:5px;">
                                <p style="font-size:10px;">ASSINATURA DO CLIENTE: ${dados.nome}</p>
                            </div>
                        </div>

                        <div style="margin-top:30px; font-size:8px; text-align:center;">
                            CHAVE DE ACESSO SEFAZ: ${dados.chave}<br>
                            SISTEMA SENTINELA V12 - TECNOLOGIA DE CRIPTOGRAFIA AVAN√áADA
                        </div>
                    </div>
                `;
            } else {
                // DESIGN CUPOM T√âRMICO (DIFERENTE)
                html = `
                    <div class="print-thermal" style="width:80mm; font-family:'Courier Prime'; color:black;">
                        <center>
                            <h2 style="margin:0;">V12 SENTINELA</h2>
                            <p style="font-size:10px;">UNIDADE M√ìVEL DE VENDAS</p>
                            <p>--------------------------------</p>
                            <p><b>CUPOM DE OPERA√á√ÉO</b></p>
                        </center>
                        <p style="font-size:11px;">CLIENTE: ${dados.nome}</p>
                        <p style="font-size:11px;">DOC: ${dados.doc}</p>
                        <p>--------------------------------</p>
                        <p style="font-size:11px;">${dados.prod}</p>
                        <p style="font-size:14px; text-align:right;"><b>TOTAL: R$ ${dados.valor}</b></p>
                        <p>--------------------------------</p>
                        <p style="font-size:9px;">DATA: ${new Date().toLocaleString()}</p>
                        <p style="font-size:9px;">AUTORIZA√á√ÉO: ${Math.random().toString(36).toUpperCase().slice(2)}</p>
                        <br><br>
                        <center>__________________________<br>VISTO DO FISCAL</center>
                    </div>
                `;
            }

            document.getElementById('container-documento').innerHTML = html;
            window.print();
        }

        function enviarWhats() {
            const num = document.getElementById('v_whats').value;
            const nome = document.getElementById('v_nome').value;
            const valor = document.getElementById('v_valor').value;
            const msg = `Ol√° ${nome}, seu documento fiscal Sentinela V12 foi gerado com sucesso no valor de R$ ${valor}. Acesse seu e-mail ou visualize o PDF anexo.`;
            window.open(`https://api.whatsapp.com/send?phone=${num}&text=${encodeURIComponent(msg)}`);
        }
    </script>
</body>
</html>
