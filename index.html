<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTINELA V12 - COMMAND & CONTROL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root { --neon-blue: #00f2ff; --neon-green: #00ff9d; }
        body { background: #02040a; color: #e6edf3; font-family: 'Space Grotesk', sans-serif; overflow-x: hidden; }
        
        .cyber-panel { 
            background: rgba(13, 17, 23, 0.8); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(48, 54, 61, 1);
            border-top: 4px solid var(--neon-blue);
            border-radius: 0 0 24px 24px;
        }

        .stat-card {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.3s ease;
        }
        .stat-card:hover { border-color: var(--neon-blue); box-shadow: 0 0 20px rgba(0, 242, 255, 0.1); }

        .input-cyber {
            background: #0d1117;
            border: 1px solid #30363d;
            color: var(--neon-blue);
            font-family: 'JetBrains Mono', monospace;
        }

        /* CONFIGURA√á√ÉO DE IMPRESS√ÉO ELITE */
        @media print {
            .no-print { display: none !important; }
            #print-area { display: block !important; background: white !important; color: black !important; }
            
            /* Layout A4 Profissional */
            .print-a4 { width: 210mm; padding: 20mm; font-family: Arial, sans-serif; }
            .print-a4 border { border: 1px solid #000; }
            
            /* Layout T√©rmico 80mm */
            .print-thermal { width: 80mm; padding: 5mm; font-family: 'JetBrains Mono', monospace; font-size: 11px; }
        }
        #print-area { display: none; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="no-print max-w-6xl mx-auto space-y-6">
        <header class="cyber-panel p-8 flex flex-col md:flex-row justify-between items-center gap-6 shadow-[0_10px_50px_rgba(0,0,0,0.5)]">
            <div class="flex items-center gap-5">
                <div class="w-16 h-16 bg-white rounded-xl flex items-center justify-center border-b-4 border-blue-600 shadow-lg rotate-3">
                    <span class="text-black font-black text-2xl">S12</span>
                </div>
                <div>
                    <h1 class="text-4xl font-black tracking-tighter uppercase italic">Sentinela <span class="text-cyan-400">V12</span></h1>
                    <p class="text-[9px] tracking-[0.5em] text-slate-500 font-bold">INTELLIGENCE UNIT - CRISTIAN AUTHORITY</p>
                </div>
            </div>
            
            <div class="flex flex-col items-end">
                <div class="flex items-center gap-3 bg-emerald-500/10 px-4 py-2 rounded-full border border-emerald-500/20">
                    <span class="w-2 h-2 bg-emerald-500 rounded-full animate-ping"></span>
                    <span class="text-[10px] font-black text-emerald-500 uppercase">SEFAZ API Online</span>
                </div>
                <p class="text-[10px] text-slate-500 mt-2 font-mono">HASH_AUTH: 0x8821_V12_ISR</p>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <div class="lg:col-span-8 space-y-6">
                <div class="bg-white/5 p-8 rounded-[2rem] border border-white/5">
                    <h2 class="text-xs font-black text-cyan-500 uppercase tracking-widest mb-6">‚óè Identifica√ß√£o de Alvo (CPF/CNPJ)</h2>
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="text" id="documentoInput" placeholder="000.000.000-00" class="input-cyber flex-1 p-5 rounded-2xl text-2xl font-bold outline-none focus:ring-2 ring-cyan-500">
                        <button onclick="executarVarredura()" id="btnAcao" class="bg-cyan-500 hover:bg-cyan-400 text-black px-8 py-5 rounded-2xl font-black uppercase text-sm transition-all transform active:scale-95 shadow-[0_0_20px_rgba(0,242,255,0.3)]">
                            Iniciar Varredura Total
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="stat-card p-6 rounded-3xl">
                        <p class="text-[10px] text-slate-500 font-bold uppercase">Receita Federal</p>
                        <p id="txtReceita" class="text-xl font-bold mt-2 text-white">AGUARDANDO...</p>
                    </div>
                    <div class="stat-card p-6 rounded-3xl">
                        <p class="text-[10px] text-slate-500 font-bold uppercase">PGFN / D√≠vida</p>
                        <p id="txtDivida" class="text-xl font-bold mt-2 text-white">AGUARDANDO...</p>
                    </div>
                    <div class="stat-card p-6 rounded-3xl border-l-4 border-cyan-500">
                        <p class="text-[10px] text-slate-500 font-bold uppercase">Status Sentinela</p>
                        <p id="txtSistema" class="text-xl font-bold mt-2 text-cyan-400 italic">STANDBY</p>
                    </div>
                </div>

                <div class="bg-white/5 p-8 rounded-[2rem] border border-white/5 space-y-4">
                    <h2 class="text-xs font-black text-cyan-500 uppercase tracking-widest mb-2">‚óè Dados para Emiss√£o Profissional</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="cliNome" placeholder="Nome Completo ou Raz√£o Social" class="input-cyber p-4 rounded-xl text-sm">
                        <input type="text" id="cliEnd" placeholder="Endere√ßo / Cidade" class="input-cyber p-4 rounded-xl text-sm">
                        <input type="text" id="cliEmail" placeholder="E-mail do Cliente" class="input-cyber p-4 rounded-xl text-sm">
                        <input type="text" id="prodDesc" placeholder="Descri√ß√£o do Ativo / Servi√ßo" class="input-cyber p-4 rounded-xl text-sm">
                        <input type="number" id="prodValor" placeholder="Valor R$" class="input-cyber p-4 rounded-xl text-sm font-bold">
                    </div>
                </div>
            </div>

            <div class="lg:col-span-4 space-y-4">
                <div class="bg-gradient-to-b from-blue-600 to-blue-900 p-1 rounded-[2.5rem] shadow-2xl">
                    <div class="bg-[#02040a] rounded-[2.4rem] p-8 space-y-4">
                        <h3 class="text-center text-[10px] font-black uppercase tracking-[0.2em] mb-6">Central de Emiss√£o</h3>
                        
                        <button onclick="gerarDocumento('A4')" class="w-full bg-white text-black py-5 rounded-2xl font-black uppercase text-xs hover:bg-cyan-500 hover:text-white transition-all">
                            üìÑ Imprimir Nota A4 Elite
                        </button>
                        
                        <button onclick="gerarDocumento('TERMICA')" class="w-full border-2 border-cyan-500/50 text-cyan-400 py-5 rounded-2xl font-black uppercase text-xs hover:bg-cyan-500 hover:text-white transition-all">
                            üßæ Cupom T√©rmico 80mm
                        </button>

                        <div class="pt-4">
                            <button onclick="enviarWhatsApp()" class="w-full bg-emerald-600 text-white py-5 rounded-2xl font-black uppercase text-xs shadow-lg flex items-center justify-center gap-2">
                                Enviar WhatsApp
                            </button>
                        </div>
                    </div>
                </div>

                <div class="p-6 bg-orange-500/5 border border-orange-500/20 rounded-3xl">
                    <p class="text-orange-500 font-black text-[10px] uppercase tracking-tighter italic">Monitor de Leil√µes Ativo</p>
                    <p class="text-[11px] text-slate-400 mt-2">Buscando oportunidades em editais do governo...</p>
                </div>
            </div>
        </main>
    </div>

    <div id="print-area"></div>

    <script>
        // FUN√á√ÉO DE VARREDURA (SUA L√ìGICA DA LAMBDA)
        async function executarVarredura() {
            const doc = document.getElementById('documentoInput').value;
            const btn = document.getElementById('btnAcao');
            if(!doc) return alert("Insira CPF ou CNPJ");

            btn.innerText = "VARRENDO INFRAESTRUTURA...";
            btn.disabled = true;

            try {
                const response = await fetch('https://x7rrkmlue3fbvk5j5awpfzy3he0jwoeq.lambda-url.sa-east-1.on.aws/', {
                    method: 'POST',
                    body: JSON.stringify({ cnpj: doc, modo: "v12_full" }),
                    headers: { 'Content-Type': 'application/json' }
                });
                const data = await response.json();

                document.getElementById('txtReceita').innerText = data.diagnostico.receita_federal;
                document.getElementById('txtReceita').className = "text-xl font-bold mt-2 text-emerald-400";
                document.getElementById('txtDivida').innerText = data.diagnostico.pgfn_divida;
                document.getElementById('txtSistema').innerText = "V12 ENCRYPTED";
                
                alert("Varredura Conclu√≠da com Sucesso!");
            } catch (e) {
                alert("Erro na conex√£o: " + e);
            } finally {
                btn.innerText = "Iniciar Busca Total";
                btn.disabled = false;
            }
        }

        // FUN√á√ÉO DE IMPRESS√ÉO PROFISSIONAL
        function gerarDocumento(tipo) {
            const dados = {
                nome: document.getElementById('cliNome').value || "CLIENTE N√ÉO INFORMADO",
                doc: document.getElementById('documentoInput').value,
                end: document.getElementById('cliEnd').value || "---",
                desc: document.getElementById('prodDesc').value || "SERVI√áOS DE CONSULTORIA V12",
                valor: document.getElementById('prodValor').value || "0,00",
                data: new Date().toLocaleString(),
                nfe: Math.floor(Math.random() * 999999)
            };

            let html = "";

            if(tipo === 'A4') {
                html = `
                <div class="print-a4">
                    <div style="display:flex; justify-content:space-between; border-bottom:4px solid #000; padding-bottom:20px;">
                        <div>
                            <h1 style="margin:0; font-size:32px; font-weight:900;">SENTINELA V12</h1>
                            <p style="font-size:12px; letter-spacing:3px;">SISTEMA DE ALTA AUTORIDADE</p>
                        </div>
                        <div style="text-align:right;">
                            <p><b>N¬∫ DOCUMENTO:</b> ${dados.nfe}</p>
                            <p><b>EMISS√ÉO:</b> ${dados.data}</p>
                        </div>
                    </div>
                    
                    <div style="margin-top:40px; border:1px solid #000; padding:20px;">
                        <h3 style="margin-top:0; background:#000; color:#fff; padding:5px 10px; display:inline-block;">DADOS DO DESTINAT√ÅRIO</h3>
                        <p><b>NOME:</b> ${dados.nome}</p>
                        <p><b>CPF/CNPJ:</b> ${dados.doc}</p>
                        <p><b>ENDERE√áO:</b> ${dados.end}</p>
                    </div>

                    <table style="width:100%; border-collapse:collapse; margin-top:30px;">
                        <thead>
                            <tr style="background:#f2f2f2;">
                                <th style="border:1px solid #000; padding:15px; text-align:left;">DESCRI√á√ÉO DOS SERVI√áOS / ATIVOS</th>
                                <th style="border:1px solid #000; padding:15px; text-align:right;">VALOR TOTAL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border:1px solid #000; padding:30px 15px;">${dados.desc}</td>
                                <td style="border:1px solid #000; padding:30px 15px; text-align:right; font-size:22px;"><b>R$ ${dados.valor}</b></td>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top:100px; display:flex; justify-content:space-between;">
                        <div style="width:40%; border-top:1px solid #000; text-align:center; padding-top:10px;">ASSINATURA DO EMISSOR</div>
                        <div style="width:40%; border-top:1px solid #000; text-align:center; padding-top:10px;">ASSINATURA DO CLIENTE</div>
                    </div>
                </div>`;
            } else {
                html = `
                <div class="print-thermal">
                    <center>
                        <b style="font-size:18px;">SENTINELA V12</b><br>
                        AUTHORITY SYSTEM ISR-BR<br>
                        ----------------------------
                        <br><b>CUPOM DE VARREDURA</b><br>
                        ----------------------------
                    </center>
                    <p>DATA: ${dados.data}</p>
                    <p>DOC: ${dados.doc}</p>
                    <p>NOME: ${dados.nome.substring(0,20)}</p>
                    <p>----------------------------</p>
                    <p>${dados.desc}</p>
                    <p style="text-align:right; font-size:16px;"><b>TOTAL: R$ ${dados.valor}</b></p>
                    <p>----------------------------</p>
                    <center>
                        <p style="font-size:9px;">AUTORIDADE: CRISTIAN V12</p>
                        <p>SISTEMA CRIPTOGRAFADO</p>
                    </center>
                </div>`;
            }

            document.getElementById('print-area').innerHTML = html;
            window.print();
        }

        function enviarWhatsApp() {
            const num = document.getElementById('documentoInput').value; // Usando o mesmo campo por agora
            const nome = document.getElementById('cliNome').value;
            const valor = document.getElementById('prodValor').value;
            const msg = window.encodeURIComponent(`Ol√° ${nome}, seu documento fiscal Sentinela V12 (R$ ${valor}) est√° dispon√≠vel.`);
            window.open(`https://api.whatsapp.com/send?text=${msg}`);
        }
    </script>
</body>
</html>
